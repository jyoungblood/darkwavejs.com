---
import Tag from "./Tag.astro";

interface BlogEntry {
  slug: string;
  data: {
    title: string;
    subtitle: string;
    date: string;
    tags?: string[];
  };
}

interface Props {
  entries: BlogEntry[];
  emptyMessage?: string;
}

const { entries, emptyMessage = "No posts found." } = Astro.props;
---

<div class="space-y-8">
  {
    entries.map((entry) => (
      <article class="border-b border-neutral-800 pb-8 last:border-b-0">
        <h2 class="text-2xl font-bold text-white">
          <a
            href={`/blog/${entry.slug}`}
            class="hover:text-dw-green transition-colors"
          >
            {entry.data.title}
          </a>
        </h2>
        <p class="text-neutral-400 mt-2">{entry.data.subtitle}</p>
        <div class="flex items-center gap-4 mt-4 text-sm text-neutral-500">
          
            <time datetime={entry.data.date}>
              {new Date(entry.data.date).toLocaleDateString("en-US", {
                year: "numeric",
                month: "long",
                day: "numeric",
              })}
            </time>
            
          {entry.data.tags && entry.data.tags.length > 0 && (
            <div class="flex gap-2 flex-wrap">
              {entry.data.tags.map((tag) => (
                <Tag tag={tag} />
              ))}
            </div>
          )}
        </div>
      </article>
    ))
  }
  {
    entries.length === 0 && (
      <p class="text-neutral-500 text-center py-12">{emptyMessage}</p>
    )
  }
</div>
