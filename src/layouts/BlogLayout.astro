---
import BaseLayout from './BaseLayout.astro';
import Tag from '../components/Tag.astro';

interface Props {
  title?: string;
  subtitle?: string;
  date?: string;
  tags?: string[];
}

const { title, subtitle, date, tags } = Astro.props;

const pageTitle = title ? `${title} | Blog | Darkwave` : "Blog | Darkwave";
---

<BaseLayout title={pageTitle} description={subtitle}>
  <div class="pb-16">
    <main class="max-w-3xl mx-auto">
      <article class="main-content">
        {title && <h1>{title}</h1>}
        {subtitle && <p class="text-xl text-neutral-400 mt-4">{subtitle}</p>}
        {date && (
          <div class="text-sm text-neutral-500 mt-4">
            {new Date(date).toLocaleDateString('en-US', {
              year: 'numeric',
              month: 'long',
              day: 'numeric'
            })}
          </div>
        )}
        {tags && tags.length > 0 && (
          <div class="flex gap-2 flex-wrap mt-4">
            {tags.map((tag) => (
              <Tag tag={tag} />
            ))}
          </div>
        )}
        <div class="mt-8">
          <slot />
        </div>
      </article>
    </main>
  </div>
</BaseLayout>
